<?php

class ConjugationLengadocianSecondGroup extends ConjugationBase{

  protected function getStandardConjugation(){

  $arr = array();
  $model = $this->getVerbModel();
   
  if ($model == '230'){
    $arr['00_IndPres|Present']                 =  "i,es,,m,stz,on";
    $arr['01_IndImp|Imperfach']                =  "ii,is,i,iam,iatz,in";
    $arr['02_IndPret|Preterit']                =  "iguri,igures,igut,igurem,iguretz,iguron";
    $arr['03_IndFutur|Futur']                  =  "irai,irs,ir,irem,iretz,irn";
    $arr['04_Infinitiu|Infinitiu']             =  "ir";
    $arr['05_Gerondiu|Gerondiu']               =  "issent";
    $arr['06_PartPassat|Participi passat']     =  "it,ida";
    $arr['07_Imperatiu|Imperatiu']             =  ",am,etz,iscas,iscam,iscatz";
    $arr['08_SubPres|Subjontiu present']       =  "a,as,a,am,atz,an";
    $arr['09_SubImp|Subjontiu imperfach']      =  "igusse,igusses,igusse,igussem,igussetz,igusson";
    $arr['10_Conditional|Conditional']         =  "irii,iris,iri,iriam,iriatz,irin";
  return $arr;
  }
  if ($model == '210' || $model == '211' || $model == '212' || $model == '213'){
    $arr['00_IndPres|Present']                 =  "ssi,sses,s,ssm,sstz,sson";
    $arr['01_IndImp|Imperfach']                =  "ssii,ssis,ssi,ssiam,ssiatz,ssin";
    $arr['02_IndPret|Preterit']                =  "guri,gures,gut,gurem,guretz,guron";
    $arr['03_IndFutur|Futur']                  =  "rai,rs,r,rem,retz,rn";
    $arr['04_Infinitiu|Infinitiu']             =  "r";
    $arr['05_Gerondiu|Gerondiu']               =  "ssent";
    $arr['06_PartPassat|Participi passat']     =  "t,ida";
    $arr['07_Imperatiu|Imperatiu']             =  "s,scam,ssetz,scas,scam,scatz";
    $arr['08_SubPres|Subjontiu present']       =  "sca,scas,sca,scam,scatz,scan";
    $arr['09_SubImp|Subjontiu imperfach']      =  "gusse,gusses,gusse,gussem,gussetz,gusson";
    $arr['10_Conditional|Conditional']         =  "rii,ris,ri,riam,riatz,rin";
  return $arr;
  }

  $arr['00_IndPres|Present']                 =  "issi,isses,s,issm,isstz,isson";
  $arr['01_IndImp|Imperfach']                =  "issii,issis,issi,issiam,issiatz,issin";
  $arr['02_IndPret|Preterit']                =  "iguri,igures,igut,igurem,iguretz,iguron";
  $arr['03_IndFutur|Futur']                  =  "irai,irs,ir,irem,iretz,irn";
  $arr['04_Infinitiu|Infinitiu']             =  "ir";
  $arr['05_Gerondiu|Gerondiu']               =  "issent";
  $arr['06_PartPassat|Participi passat']     =  "it,ida";
  $arr['07_Imperatiu|Imperatiu']             =  "s,iscam,issetz,iscas,iscam,iscatz";
  $arr['08_SubPres|Subjontiu present']       =  "isca,iscas,isca,iscam,iscatz,iscan";
  $arr['09_SubImp|Subjontiu imperfach']      =  "igusse,igusses,igusse,igussem,igussetz,igusson";
  $arr['10_Conditional|Conditional']         =  "irii,iris,iri,iriam,iriatz,irin";
  return $arr;
  } // setStandardConjugation

  protected function getDesinenceLengthArray(){

    $desinenceLengths = array();
    $desinenceLengths[]="1,2,1,2,3,2";
    $desinenceLengths[]="3,4,3,4,5,4";
    $desinenceLengths[]="3,4,2,4,5,4";
    $desinenceLengths[]="4,4,3,4,5,4";
    $desinenceLengths[]="2";
    $desinenceLengths[]="3";
    $desinenceLengths[]="1,2,3,2,2,3";
    $desinenceLengths[]="1,2,1,2,3,2";
    $desinenceLengths[]="4,5,4,4,6,5";
    $desinenceLengths[]="5,5,4,5,6,5";
    return $desinenceLengths;

  }

  protected function fixRadical($radical,$desinence){
    return $radical;
  } // fixRadical
  
  protected function fixDesinence($desinence){       
    return $desinence;
  } // fixDesinence

  protected function getConjugationArray(){

    $infinitive = $this->getVerb();

    $pattern = '/ \d{1}$/';

    if (preg_match($pattern, $infinitive)){
      $rootSaved = preg_replace('/(.+) (\d{1}$)/', '$1', $infinitive);
    }else{
      $rootSaved = substr($infinitive,0,-2);
    }
        
    $conjugations = array();

    // for each temps
    foreach($this->getStandardConjugation() as $lib=>$desinence){
      $desinences = explode(',', $desinence);
      $i=0;
      $tempsConjugated = array();

      foreach ($desinences as $elmnt){
        $root = $this->fixRadical($rootSaved,$elmnt);
        $elmnt = $this->fixDesinence($elmnt);
        $tempsConjugated[] = utf8_encode($root.$elmnt); 
      } // for desinences
      $conjugations[] = $tempsConjugated;
    } // foreach temps

    return $conjugations;

  } // getConjugationArray

  public function display(){
    return array();
  } // display
} // class ConjugationLengadocianSecondGroup

?>